const i=window.Blazor,n=document,r="enhancedload",u="Toolbelt.Blazor.circuitClosed",f=localStorage,e=sessionStorage,o=t=>decodeURIComponent(n.cookie.split(/[; ]+/).map(n=>n.split("=")).filter(n=>n[0]===t)[0]?.pop()||"").match(/\|uic=(.+)$/)?.pop()||null,t=({persistenceLevel:t,cookieName:n,storageKey:i})=>{const u=e.getItem(i),s=f.getItem(i),h=o(n),r=([1,2].includes(t)?u:null)||(t===2?s:null)||([3,4].includes(t)?h:null),c=r?[r]:navigator.languages||[navigator.browserLanguage];return c[0]||"en"},s=(t,{persistenceLevel:r,cookieName:i,storageKey:u})=>{[1,2].includes(r)&&e.setItem(u,t),r===2&&f.setItem(u,t),[3,4].includes(r)&&(n.cookie=`${i}=${encodeURIComponent(`c=${t}|uic=${t}`)}`+(r===4)?"; expires=Fri, 31 Dec 9999 23:59:59 GMT;":"")};export const attach=async(f,e)=>{const o={currentLang:t(e),getCurrentLang:()=>t(e),setCurrentLang:n=>s(n,e)},h=()=>{const n=t(e);if(o.currentLang!==n){o.currentLang=n;try{f.invokeMethodAsync("OnLanguageChanged",n)}catch(i){console.error("Error invoking OnLanguageChanged",i)}}};i?.addEventListener(r,h);const c=()=>o.dispose?.();return n.addEventListener(u,c),o.dispose=()=>{i?.removeEventListener(r,h),n.removeEventListener(u,c)},o};